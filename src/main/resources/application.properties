spring.application.name=leo-shift

# Database - PostgreSQL (Railway)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true
# Reverse proxy (Railway)에서 전달되는 X-Forwarded-* 헤더 사용
server.forward-headers-strategy=framework

# JWT
jwt.secret=${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-env}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}

# CORS and Application URLs
app.frontend-url=${APP_FRONTEND_URL:http://localhost:8080}
app.backend-url=${APP_URL:http://localhost:8080}

# OAuth2 Redirect URI
app.oauth2.redirect-uri=${APP_FRONTEND_URL:http://localhost:8080}/login.html

# OAuth2 - Google
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri=${APP_URL:http://localhost:8080}/login/oauth2/code/google

# API Key for GitHub Actions
app.api-key=${API_KEY:change-this-to-secure-key}

# Web Push VAPID
push.vapid.public-key=${PUSH_VAPID_PUBLIC_KEY:}
push.vapid.private-key=${PUSH_VAPID_PRIVATE_KEY:}
push.vapid.subject=${PUSH_VAPID_SUBJECT:mailto:admin@example.com}

# Logging
logging.level.org.springframework.web.servlet.resource.ResourceHttpRequestHandler=ERROR
logging.level.org.springframework.security=INFO
